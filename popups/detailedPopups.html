<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title></title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>

<body>
    <!--Use this file to create the extension popup shown on a recipe website-->
    <p>This one should have more info, make it dynamic :)))</p>
    <!--Add app logo + title-->
    <hr />
    <!--Add a dynamic body-->
    <main></main>
    <hr />
    <!--Include button/link to settings/configurations-->
    <script>
        //Somehow get the message from the background script and do it here
        chrome.runtime.onMessage.addListener(async(message, sender, sendResponse) => {
            if (message.from == "backgroundScript") {
                switch (message.type) {
                    case "RenderDynamicInfoInExtensionPopup":
                        {
                            var success = message.success;
                            var ingredientsFailed = message.ingredientsFailedl
                            console.log("Displaing popup");
                            var div = document.createElement("div");
                            div.style.border = "2px solid black";
                            div.innerHTML = `${success ? "Success" : ("Failed" + ingredientsFailed.join(", "))}<br /><br />`;

                            document.querySelector("main").appendChild(div);
                        }
                        break;
                }
            }
        });
    </script>
</body>

</html>